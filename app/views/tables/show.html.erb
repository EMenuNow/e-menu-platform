
<div class="container-fluid">
  <div class="row">
		<div class="col-lg-8">
		  <div class="row">
				<div class="col mt-4">
					<%=render 'tables/menus'%>
				</div>
			</div>
    </div>
    <div class="col-lg-4 right-hand-column bg-secondary">
			<div class="row  text-white pt-3 pb-3">
				<div class="col text-center">
					<h3>Current Bill </h3>
					<span class="current-bill">
						<% price = @table.table_items.reject{|a| a.paid}.map{|e| e.price_a}.inject(:+) || 0 %>
						<%=number_to_currency price, unit: "Â£"%>
					</span>
				</div>
			</div>
			<div class="row pt-3 pb-3">
				<div class="col">
					<ul class="list-group">
						<% @table.table_items.order(:created_at).each do |item| %>
						  <li class="list-group-item d-flex justify-content-between align-items-center rhc-item  <%=item.paid ? "item-paid" : "" %>">
							  <div class="container">
							  	<div class="row">
							  		<div class="col-sm-6"><%= item.name%></div>
							  		<div class="col-sm-4 text-right"><%= item.for%></div>
							  		<div class="col-sm-2 text-right"><%=number_to_currency item.price_a, unit: "Â£"%></div>
							  	</div>
							  </div>
						  </li>
					  <% end %>
					</ul>
				</div>
			</div>
   	  <div class="row  pt-1 pb-3 ">
				<div class="col text-center">
		      <%= link_to("PAY BILL", table_pay_path(@table), disabled: :disabled, method: :get, class: 'btn btn-warning btn-lg btn-block') if price > 0%>
				</div>
			</div>
   	  <div class="row border pt-3 pb-3 text-light ">
				<div class="col">
		      <p class=" text-center"><strong>Table Details:</strong></p>
					<ul class="list-group">
					  <li>
					    Restaurant: <%= @table.restaurant_name %>
					  </li>
					  <li class="">
					    Table Number: <%= @table.restaurant_table_number %>
					  </li>
					  <li class="">
					    Table Code: <%= @table.restaurant_table_code %>
					  </li>
					  <li class="">
					    Table Password: <%= @table.password %>
					  </li>
					</ul>
				</div>
			</div>
    </div>
  </div>
</div>





